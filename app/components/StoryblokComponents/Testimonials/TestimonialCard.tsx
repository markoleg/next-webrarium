import { storyblokEditable } from "@storyblok/react/rsc";
import { render } from "storyblok-rich-text-react-renderer";

import styles from "./Testimonials.module.css";
import Image from "next/image";
import Link from "next/link";

export default function TestimonialCard({ blok }: { blok: any }) {
  return (
    <div {...storyblokEditable(blok)} className={styles.testimonial_card}>
      <div className={styles.top_wrp}>
        <Image
          src={blok.ava.filename}
          alt={blok.name}
          width={150}
          height={150}
          className={styles.avatar}
          loading="lazy"
        />
        <div className={styles.top_right_wrp}>
          <strong className={styles.name}>{blok.name}</strong>
          <small className={styles.description}>{blok.description}</small>
        </div>
      </div>
      <svg
        width="52"
        height="33"
        viewBox="0 0 52 33"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className={styles.quote_mark}
      >
        <path
          d="M49.5096 2.78374C49.5096 3.25613 49.2107 3.8635 48.613 4.60583C48.0153 5.34816 47.3512 6.05675 46.6207 6.7316C45.9234 7.3727 45.2759 8.11503 44.6782 8.95859C44.0805 9.80215 43.7816 10.5613 43.7816 11.2362C43.7816 11.6074 44.2133 11.9785 45.0766 12.3497C45.94 12.7209 46.8697 13.1426 47.8659 13.615C48.8953 14.0537 49.8416 14.9647 50.705 16.3482C51.5683 17.6979 52 19.4018 52 21.4601C52 24.9018 50.871 27.6856 48.613 29.8113C46.355 31.9371 43.3997 33 39.7471 33C36.2937 33 33.355 31.8359 30.931 29.5077C28.5402 27.1794 27.3448 24.3282 27.3448 20.954C27.3448 18.9294 27.8595 16.7025 28.8889 14.273C29.9183 11.8098 31.2465 9.53221 32.8736 7.44018C34.5338 5.31442 36.493 3.54294 38.751 2.12577C41.0089 0.708589 43.2337 0 45.4253 0C46.6539 0 47.6335 0.28681 48.364 0.860429C49.1277 1.43405 49.5096 2.07515 49.5096 2.78374ZM22.1647 2.78374C22.1647 3.3911 21.6833 4.20092 20.7203 5.21319C19.7573 6.19172 18.7944 7.23773 17.8314 8.35123C16.9017 9.43098 16.4368 10.3926 16.4368 11.2362C16.4368 11.6074 16.8685 11.9785 17.7318 12.3497C18.5951 12.7209 19.5249 13.1426 20.5211 13.615C21.5504 14.0537 22.4968 14.9647 23.3602 16.3482C24.2235 17.6979 24.6552 19.4018 24.6552 21.4601C24.6552 24.9018 23.5262 27.6856 21.2682 29.8113C19.0102 31.9371 16.0549 33 12.4023 33C8.94891 33 6.01022 31.8359 3.58621 29.5077C1.1954 27.1794 0 24.3282 0 20.954C0 18.9294 0.514687 16.7025 1.54406 14.273C2.57344 11.8098 3.90166 9.53221 5.52874 7.44018C7.18902 5.31442 9.14815 3.54294 11.4061 2.12577C13.6641 0.708589 15.8889 0 18.0805 0C19.3091 0 20.2886 0.28681 21.0192 0.860429C21.7829 1.43405 22.1647 2.07515 22.1647 2.78374Z"
          fill="none"
        />
      </svg>
      <div className={styles.testimonial}>{render(blok.testimonial)}</div>
      {blok.fb_link ? (
        <Link href={blok.fb_link.url} target="_blank" aria-label="Facebook">
          <svg
            width="26"
            height="26"
            viewBox="0 0 26 26"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M23.1111 26H2.88889C1.2934 26 0 24.7066 0 23.1111V2.88889C0 1.2934 1.2934 0 2.88889 0H23.1111C24.7066 0 26 1.2934 26 2.88889V23.1111C26 24.7066 24.7066 26 23.1111 26ZM2.88889 25H23.1111C24.1543 25 25 24.1543 25 23.1111V2.88889C25 1.84568 24.1543 1 23.1111 1H2.88889C1.84568 1 1 1.84568 1 2.88889V23.1111C1 24.1543 1.84568 25 2.88889 25Z"
              fill="none"
            />
            <path
              d="M14.1042 10.4522C13.9907 10.4522 13.853 10.5028 13.691 10.604C13.5289 10.7052 13.4479 10.857 13.4479 11.0594V11.6667H15.3681V14.0955H13.4479V19H10.9201V14.0955H9V11.6667H10.9201V10.4522C10.9201 10.1408 10.9931 9.83723 11.1389 9.5414C11.2847 9.24558 11.4913 8.98478 11.7587 8.75902C12.026 8.53326 12.338 8.35032 12.6944 8.21019C13.0509 8.07006 13.4398 8 13.8611 8H16V10.4522H14.1042Z"
              fill="none"
            />
          </svg>
        </Link>
      ) : null}
    </div>
  );
}
